Предположим, что значения 1/0 указанных битов отражают состояние ВКЛЮЧЕНО/ВЫКЛЮЧЕНО:  
• бит 7 — мотора,  
• бит 3 — светодиода,  
• бит 0 — реле.  
  
```cpp
#define MOTOR_STATE_FLAG 7
#define LED_STATE_FLAG 3
#define RELAY_STATE_FLAG 0

unsigned int flags = 0; 
flags |= (1 << MOTOR_STATE_FLAG) | (1 << LED_STATE_FLAG) | (1 << RELAY_STATE_FLAG);
flags &= ~(1 << LED_STATE_FLAG);
flags ^= (1 << MOTOR_STATE_FLAG);
```

**Макрос** — практически то же, что и макроопределение, только по отношению к фрагменту кода. Оформим макросы изменения значений битов (всех вместе взятых и каждого по отдельности) и перепишем код:  
```cpp
#define SET_ALL_FLAGS flags |= (1 << MOTOR_STATE_FLAG) | (1 << LED_STATE_FLAG) | (1 << RELAY_STATE_FLAG)
#define CLEAR_ALL_FLAGS flags &= ~((1 << MOTOR_STATE_FLAG) | (1 << LED_STATE_FLAG) | (1 << RELAY_STATE_FLAG))
#define TOGGLE_ALL_FLAGS flags ^= (1 << MOTOR_STATE_FLAG) | (1 << LED_STATE_FLAG) | (1 << RELAY_STATE_FLAG)

#define SET_MOTOR_STATE_FLAG flags |= (1 << MOTOR_STATE_FLAG)
#define CLEAR_MOTOR_STATE_FLAG flags &= ~(1 << MOTOR_STATE_FLAG)
#define TOGGLE_MOTOR_STATE_FLAG flags ^= (1 << MOTOR_STATE_FLAG)

#define SET_LED_STATE_FLAG flags |= (1 << LED_STATE_FLAG)
#define CLEAR_LED_STATE_FLAG flags &= ~(1 << LED_STATE_FLAG)
#define TOGGLE_LED_STATE_FLAG flags ^= (1 << LED_STATE_FLAG)

#define SET_RELAY_STATE_FLAG flags |= (1 << RELAY_STATE_FLAG)
#define CLEAR_RELAY_STATE_FLAG flags &= ~(1 << RELAY_STATE_FLAG)
#define TOGGLE_RELAY_STATE_FLAG flags ^= (1 << LED_STATE_FLAG)

unsigned int flags = 0; 
SET_ALL_FLAGS;
CLEAR_LED_STATE_FLAG;
TOGGLE_RELAY_STATE_FLAG;
```

